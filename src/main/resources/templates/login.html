<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login</title>
    <link rel="stylesheet" th:href="@{/css/netflix.css}">
    <style>
        .nf-center { min-height: calc(100vh - 64px); display:flex; align-items:center; justify-content:center; }
        .nf-modal-mask { position:fixed; inset:0; background:rgba(0,0,0,.65); display:flex; align-items:center; justify-content:center; }
        .nf-modal-card { background:#1a1a1a; padding:16px 20px; border-radius:8px; border:1px solid #333; max-width:420px; width:90%; }
    </style>
</head>
<body class="nf-body">
<div class="nf-header">Login</div>
<div class="nf-container nf-center">
    <div style="width:100%; max-width:420px;">
        <form class="nf-form" th:action="@{/login}" method="post">
            <label>Username</label>
            <input type="text" name="username" required>
            <label>Password</label>
            <input type="password" name="password" required>
            <div class="nf-actions">
                <button type="submit" class="nf-button">Login</button>
                <a class="nf-button nf-secondary" th:href="@{/register}">Register</a>
            </div>
        </form>

        <div th:if="${config.ssoEnabled}">
            <div class="nf-card" style="margin-top:12px;">
                <p>Or continue with your organization's SSO:</p>
                <a class="nf-button" th:href="@{/login/sso}">Login with SSO</a>
            </div>
        </div>
    </div>
</div>

<!-- Error modal when Spring Security sends ?error -->
<div th:if="${param.error}" class="nf-modal-mask">
    <div class="nf-modal-card">
        <div class="nf-modal-header">Login Failed</div>
        <div class="nf-modal-body">Invalid username or password. Please try again.</div>
        <div class="nf-modal-actions" style="text-align:right; margin-top:12px;">
            <a class="nf-button" th:href="@{/login}">Close</a>
        </div>
    </div>
</div>
</body>
</html>
